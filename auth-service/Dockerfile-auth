FROM node:21-alpine3.18

WORKDIR /usr/src/auth_api
COPY package*.json ./

ENV SALT_ROUNDS = ${SALT_ROUNDS}
ENV JWT_SECRET = ${JWT_SECRET}
ENV JWT_EXPIRATION = ${JWT_EXPIRATION}
ENV MONGODB_HOST = ${MONGODB_HOST}
ENV MONGODB_PORT = ${MONGODB_PORT}
ENV MONGODB_DATABASE = ${MONGODB_DATABASE}

RUN npm install
COPY . .
EXPOSE 8000

CMD ["node", "index.js"]